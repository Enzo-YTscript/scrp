local ArrayField = loadstring(game:HttpGet("https://raw.githubusercontent.com/Enzo-YTscript/Ui-Library/main/ArrayfieldLibraryUI"))()

local Window = ArrayField:CreateWindow({
    Name = "Toilet Defense",
    LoadingTitle = "Toilet Defense",
    LoadingSubtitle = "",
    ConfigurationSaving = {
        Enabled = false,
        FolderName = nil,
        FileName = "ToiletDefense"
    },
    Discord = {
        Enabled = false,
        Invite = "",
        RememberJoins = true
    },
    KeySystem = false,
    KeySettings = {
        Title = "Toilet Defense",
        Subtitle = "",
        Note = "",
        FileName = "ToiletDefenseKey",
        SaveKey = false,
        GrabKeyFromSite = false,
        Key = {},
        Actions = {}
    }
})

-- Anti Afk
local vu = game:GetService("VirtualUser")
game:GetService("Players").LocalPlayer.Idled:connect(function()
    vu:Button2Down(Vector2.new(0,0),workspace.CurrentCamera.CFrame)
    wait(1)
    vu:Button2Up(Vector2.new(0,0),workspace.CurrentCamera.CFrame)
end)


-- MAIN TAB    
local TabMain = Window:CreateTab("HOME", nil) -- Title, Image
local SectionMain = TabMain:CreateSection("Actions", false)

-- Toggle Give Coin
local ToggleGiveCoin = TabMain:CreateToggle({
    Name = "Give Coin",
    SectionParent = SectionMain,
    CurrentValue = false,
    Callback = function(Value)
        if Value then
            local args = {
                [1] = 7
            }
            game:GetService("ReplicatedStorage").RDT:FireServer(unpack(args))
        end
    end
})

-- Toggle Random Rare
local ToggleRandomRare = TabMain:CreateToggle({
    Name = "Random Rare",
    SectionParent = SectionMain,
    CurrentValue = false,
    Callback = function(Value)
        if Value then
            local args = {
                [1] = 3
            }
            game:GetService("ReplicatedStorage").RDT:FireServer(unpack(args))
			wait(0.1)
        end
    end
})

-- Toggle Random Epic
local ToggleRandomEpic = TabMain:CreateToggle({
    Name = "Random Epic",
    SectionParent = SectionMain,
    CurrentValue = false,
    Callback = function(Value)
        if Value then
            local args = {
                [1] = 5
            }
            game:GetService("ReplicatedStorage").RDT:FireServer(unpack(args))
			wait(0.1)
        end
    end
})

-- Toggle Random Legendary
local ToggleRandomLegendary = TabMain:CreateToggle({
    Name = "Random Legendary",
    SectionParent = SectionMain,
    CurrentValue = false,
    Callback = function(Value)
        if Value then
            local args = {
                [1] = 6
            }
            game:GetService("ReplicatedStorage").RDT:FireServer(unpack(args))
			wait(0.1)
        end
    end
})

-- Toggle Random Mythic
local ToggleRandomMythic = TabMain:CreateToggle({
    Name = "Random Mythic",
    SectionParent = SectionMain,
    CurrentValue = false,
    Callback = function(Value)
        if Value then
            local args = {
                [1] = 8
            }
            game:GetService("ReplicatedStorage").RDT:FireServer(unpack(args))
			wait(0.1)
        end
    end
})

-- Infinite Jump
local Misc = TabMain:CreateButton({
    Name = "Infinite Jump",
    SectionParent = SectionMain,
    Callback = function()
        -- The function that takes place when the button is pressed
        _G.infinjump = not _G.infinjump
        if _G.infinJumpStarted == nil then
            -- Ensures this only runs once to save resources
            _G.infinJumpStarted = true

            -- Notifies readiness
            game.StarterGui:SetCore("SendNotification", {Title="Youtube Hub"; Text="Infinite Jump Activated!"; Duration=5;})

            -- The actual infinite jump
            local plr = game:GetService('Players').LocalPlayer
            local m = plr:GetMouse()
            m.KeyDown:connect(function(k)
                if _G.infinjump then
                    if k:byte() == 32 then
                        humanoid = game:GetService'Players'.LocalPlayer.Character:FindFirstChildOfClass('Humanoid')
                        humanoid:ChangeState('Jumping')
                        wait()
                        humanoid:ChangeState('Seated')
                    end
                end
            end)
        end
    end,
})

-- Walk Speed Slider
local Slider = TabMain:CreateSlider({
    Name = "Walk Speed",
    SectionParent = SectionMain,
    Range = {0, 300},
    Increment = 1,
    Suffix = "Speed",
    CurrentValue = 16,
    Flag = "Slider1",
    Callback = function(Value)
        game.Players.LocalPlayer.Character.Humanoid.WalkSpeed = Value
    end,
})